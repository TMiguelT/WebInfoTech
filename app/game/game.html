<div class="alert alert-danger alert-box" role="alert" ng-show="errorContains('unknownPhotoId')">
    {{ displayError('unknownPhotoId') }}
</div>

<section class="photo-description" ng-hide="errorContains('unknownPhotoId')" ng-init="getPhoto()">
    <div class="alert alert-info alert-box" role="alert" ng-hide="photo.id">
        <div>
            <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
              <path fill="#000" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(272.063 25 25)">
                <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform>
                </path>
            </svg>
        </div>
        Loading Photo...
    </div>

    <div ng-show="photo.id">
        <div class="photo-description--title">
            <h1>{{ photo.name }}</h1>
        </div>

        <div class="photo-description--content col-md-10 col-md-offset-1">
            <div class="col-md-5" style="text-align: center;">
                <div class="photo-description--finds"><strong>{{ photo.finds }}</strong> Finds</div>
                <img class="photo-description--photo" ng-src="./public/photos/{{ photo.url }}" ng-click="viewPhoto()"/>
                <div class="photo-description--like-dislike">
                    <button class="btn btn-default"><span class="like-icon"></span><span>{{ photo.likes }}</span></button>
                    <button class="btn btn-default"><span class="dislike-icon"></span><span>{{ photo.dislikes }}</span></button>
                </div>
                <div class="play-button">
                    <button class="btn btn-success" ng-click="goTo('.game')">Play</button>
                </div>
                <div class="showDescription-button">
                    <button class="btn btn-default" ng-click="showDescription()">Show Description/Comments/Tags</button>
                </div>
            </div>
            <div class="col-md-7 furtherDescription">
                <div class="photo-description--description">
                    <h4>Description</h4>
                    <div>
                        {{ photo.description }}
                    </div>
                </div>
                <div class="photo-description--comments">
                    <h4>Comments ({{ photo.comments.length }})</h4>
                    <div class="comment" ng-repeat="comment in photo.comments">
                        <div>
                            <span class="comment-name"> {{ comment.username }} </span> <span class="comment-datetime"> {{ comment.date_posted }} </span>
                        </div>
                        <div class="comment-content">
                            {{ comment.text }}
                        </div>
                    </div>
                    <div class="comment-form">
                        <form class="form">
                            <textarea class="form-control" placeholder="Share your thoughts on this location..."></textarea>
                            <div class="comment-form--share"><input type="checkbox"> Share on Facebook</div>
                            <button class="comment-form--post btn btn-primary" type="submit">Post</button>
                        </form>
                    </div>
                </div>
                <div class="photo-description--tags" ng-show="photo.tags.length > 0">
                    <span class="tag-title">Tags:</span>
                    <span ng-repeat="tag in photo.tags">
                       <a class="tag" ng-href="{{ tag.url }}">{{ tag.name }}</a>
                    </span>
                </div>
            </div>
            <div class="photo-description--userPost">
                Posted on: <b>{{ photo.date_posted }}</b> by <b>{{ photo.user.username }}</b>
            </div>
        </div>

        <!-- Photo Modal -->
        <div class="modal fade" id="viewPhoto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-body">
                        <img src="./public/photos/{{ photo.url }}" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="game" ng-show="photo.id">
    <section ng-hide="errorContains('unknownPhotoId')">
        <button class="btn btn-primary game--photoDescButton" ng-click="goTo('body')">Back to Photo Description</button>
        <div class="alert alert-danger alert-box" role="alert" ng-show="errorContains('navigatorError')">
            {{ displayError('navigatorError') }}
        </div>
        <div class="alert alert-info alert-box" role="alert" ng-hide="photoLoaded || errorContains('navigatorError')">
            <div>
                <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
              <path fill="#000" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(272.063 25 25)">
                <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform>
                </path>
            </svg>
            </div>
            Loading Map...
        </div>
        <div class="game--content col-md-10 col-md-offset-1" ng-show="photoLoaded">
            <div class="game--navHelper">
                <div class="game--arrow">

                </div>
                <div>{{ position.distance.toFixed(2) }}km away<br/>{{ position.direction }} of your position</div>
            </div>
            <ui-gmap-google-map center='map.center' zoom='map.zoom' options='map.options'>
                <ui-gmap-marker idKey="photo.id" coords="position.coords">
                    <ui-gmap-window show="true">
                        Your Position
                    </ui-gmap-window>
                </ui-gmap-marker>
            </ui-gmap-google-map>
        </div>
    </section>
</div>