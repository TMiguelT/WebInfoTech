
<section class = photo-list>
    <div class="photo-list-title"><h1>Photos</h1> </div>

    <div class="photo-list-content col-md-12" ng-controller="photolistController as photoCtrl" ng-init="photoCtrl.getPhotos()">

        <!--Search bar-->
        <div class="photo-list-buttons">
            <div class="col-md-8">
                <div class="btn-group">
                    <button class="btn btn-default dropdown-toggle" type="button" id="dropdownOrder" data-toggle="dropdown" aria-expanded="true">
                        Order by
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownOrder">
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.orderBy('name')">Name</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.orderBy('type')">Type</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.orderBy('distance')">Distance</a></li>
                    </ul>
                </div>
                <div class="btn-group">
                <button class="btn btn-default dropdown-toggle" type="button" id="dropdownView" data-toggle="dropdown" aria-expanded="true">
                    View
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownView">
                    <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.viewBy('list')">List</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="photoCtrl.viewBy('grid')">Grid</a></li>
                </ul>
                </div>
            </div>
            <div class="col-md-4 input-group" style="float:right">
                      <span class="input-group-btn">
                        <button class="btn btn-default" type="button">Search</button>
                      </span>       
                <input type="text" class="form-control" placeholder="Search for..." ng-model="query">
            </div>
        </div>

        <loading-box text="'Loading Photos...'" ng-hide="photoCtrl.photos.length > 0"></loading-box>

            <!-- Table-->
        <div ng-show="photoCtrl.viewMode == 'list'">
          <table class="table table-hover table-responsive" ng-show="photoCtrl.photos.length > 0" >
            <thead>
              <!-- Photo Headings-->
              <tr>
                <th class="col-md-3">Photo</th>
                <th>Name</th>
                <th>Finds</th>
                <th class="col-md-4">Description</th>
                <th>Tags</th>        
                <th>User</th>
              </tr>
            </thead>
            <tbody>

              <tr ng-repeat="sqlElement in photoCtrl.photos | orderBy:photoCtrl.orderMode | filter: query" ng-click="photoCtrl.showPhoto(sqlElement.photo)" style="pointer:cursor">
                        <td><img src="{{photoCtrl.getPhotoUrl()}}{{sqlElement.photo.url}}" class="img-thumbnail" alt="{{sqlElement.photo.name}}"></td>
                        <td>{{sqlElement.photo.name}}</td>
                        <td>{{sqlElement.photo.finds}}</td>
                        <td >{{sqlElement.photo.description}}</td>
                        <td><p ng-repeat="tag in sqlElement.photo.tags | unique:'name'">{{tag.name}}</p></td>
                        <td>{{sqlElement.photo.user[0].username}}</td>
              </tr>
            </tbody>
          </table>
      </div>
    </div>
</section>




