
<section class = photo-list>
    <div class="photo-list-title"><h1>Photos</h1> </div>

    <div class="photo-list-content col-md-12" ng-controller="photolistController as photoCtrl" ng-init="photoCtrl.orderPhotos()">

        <!--Search bar-->
        <div class="photo-list-buttons">
            <div class="col-md-8">
                <div class="btn-group">
                    <button class="btn btn-default dropdown-toggle" type="button" id="dropdownOrder" data-toggle="dropdown" aria-expanded="true">
                        Order by
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownOrder">
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.orderBy('name')">Name</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.orderBy('username')">User</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.orderBy('likes')">Likes</a></li>
                    </ul>
                </div>
                <div class="btn-group" ng-show="false">
                <button class="btn btn-default dropdown-toggle" type="button" id="dropdownView" data-toggle="dropdown" aria-expanded="true">
                    View
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownView">
                    <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.viewBy('list')">List</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="photoCtrl.viewBy('grid')">Grid</a></li>
                </ul>


                </div>
            </div>
            <div class="col-md-4 input-group" style="float:right">
                      <span class="input-group-btn">
                        <button class="btn btn-default" type="button" ng-model="searchBy">Search</button>
                      </span>   
                <form ng-submit = "photoCtrl.searchPhotos()">
                <input type="text" class="form-control" placeholder="Search for..." ng-model="searchBy">
            </div>


        </div>

        <loading-box text="'Loading Photos...'" ng-hide="photoCtrl.photos.length > 0"></loading-box>

            <!-- Table-->
        <div ng-show="photoCtrl.viewMode == 'list'">
          <table class="table table-hover table-responsive" ng-show="photoCtrl.photos.length > 0" >
            <thead>
              <!-- Photo Headings-->
              <tr>
                <th class="col-md-3">Photo</th>
                <th>Name</th>
                <th>Likes</th>
                <th class="col-md-4">Description</th>
                <th>Tags</th>        
                <th>User</th>
              </tr>
            </thead>
            <tbody>

              <tr ng-repeat="photo in photoCtrl.photos | orderBy:photoCtrl.orderMode | filter: query" ng-click="photoCtrl.showPhoto(photo)" style="pointer:cursor">
                        <td><img src="{{photo.image_path}}" class="img-thumbnail" alt="{{photo.name}}"></td>
                        <td>{{photo.name}}</td>
                        <td>{{photo.finds}}</td>
                        <td>{{photo.description}}</td>
                        <td><p ng-repeat="tag in photo.tags">{{tag.name}}</p></td>
                        <td>{{photo.username}}</td>
              </tr>
            </tbody>
          </table>
      </div>

        <div ng-show="photoCtrl.viewMode == 'grid'">
        <a ng-href="/photo/{{photo.id}}" class="row photo-list-element" ng-repeat="photo in photoCtrl.photos | orderBy:photoCtrl.orderMode ">
                    <div class="col-sm-4" ng-if="$even">
                        <img src="./public/photos/{{photoCtrl.photos[$index].url}}" class="img-thumbnail" alt="{{photoCtrl.photos[$index].name}}">
                    </div>
                    <div class="col-sm-1">
                        {{photoCtrl.photos[$index].name}}
                    </div>
            </a>

    </div>
</section>




