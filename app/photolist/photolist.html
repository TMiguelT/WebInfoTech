
<section class = photo-list>
    <div class="photo-list-title"><h1>Photos</h1> </div>

    <div class="photo-list-content col-md-12" ng-controller="photolistController as photoCtrl" ng-init="photoCtrl.searchPhotos()">

        <!--Search bar-->
        <div class="photo-list-buttons">
            <div class="col-md-4">
                    <button class="btn btn-default dropdown-toggle" type="button" id="dropdownOrder" data-toggle="dropdown" aria-expanded="true">
                        Order by
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownOrder">
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.orderBy('name')">Name</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.orderBy('likes')">Likes</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.orderBy('username')">User</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.orderBy('description')">Description</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.orderBy('num_finds')">Finds</a></li>
                    </ul>
            </div>
            <!-- Pagination -->
            <div class="col-md-4" style="float:left">
                <ul class="pager" style="margin: 0;">
                  <li ng-class="{disabled: photoCtrl.currentPage == 0}">
                    <a ng-click="photoCtrl.prevPage()">« Prev</a>
                  </li>
                
                  <li ng-class="{disabled: photoCtrl.photos.length < photoCtrl.photosPerPage}">
                    <a href ng-click="photoCtrl.nextPage()">Next »</a>
                  </li>
                </ul>
            </div>

            <div class="col-md-3 input-group" style="float:right">
                <div class="input-group-btn">
                     <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                        {{photoCtrl.searchMode}} <span class="caret"></span></button>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownOrder">
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.searchFor('Tag')">Tag</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.searchFor('Name')">Name</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.searchFor('User')">User</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href ng-click="photoCtrl.searchFor('Description')">Description</a></li>

                    </ul>
                </div>
                <form ng-submit = "photoCtrl.goSearch()">
                <input type="text" class="form-control" placeholder="Search for..." ng-model="photoCtrl.searchBy">
            </div>
        </div>
        <loading-box text="'Loading Photos...'" ng-hide="photoCtrl.photos.length > 0"></loading-box>

            <!-- Table-->
        <div ng-show="photoCtrl.viewMode == 'list'" class= "table-responsive">

            <p ng-show="photoCtrl.photos.length == 0"> No photos to show</p>
          <table class="table table-hover" ng-show="photoCtrl.photos.length > 0" >
            <thead>
              <!-- Photo Headings-->
              <tr>
                <th class="col-md-3">Photo</th>
                <th>Name</th>
                <th>Likes</th>
                <th>Finds</th>
                <th class="col-md-3">Description</th>
                <th>Tags</th>        
                <th>User</th>
              </tr>
            </thead>
            <tbody>

              <tr ng-repeat="element in photoCtrl.photos" ng-click="photoCtrl.showPhoto(element.photo_id)" style="cursor: pointer;">
                        <td><img src="{{element.image_path}}" class="img-thumbnail" alt="{{element.name}}"></td>

                        <td>{{element.name}}</td>
                        <td>{{element.likes}}</td>
                        <td>{{element.num_finds}}</td>
                        <td style="pointer:cursor">{{element.description}}</td>
                        <td><p ng-repeat="tag in element.tags">{{ tag }}</p></td>
                        <td>{{element.username}}</td>
              </tr>
            </tbody>
          </table>
      </div>


</section>




